"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35012],{39593:function(e,r,n){n.d(r,{B:function(){return s}});var t=n(52322),i=n(62197),o=n(1227),a=(0,n(8740).ZL)()(function(e,r){var n=e.palette,t=e.tokens,i=t.fontSize,o=t.fontWeight,a=r.showDesignUpliftP32039;return{pricing:{display:"flex",flexWrap:"wrap",alignItems:"baseline",justifyContent:"center",gap:a?"0 2px":"0 5px"},pricingDetails:{fontSize:a?i.s:i.xl,fontWeight:o.normal},pricingDetailsAnnotation:{flexBasis:"100%",fontSize:i.s,fontWeight:o.normal,display:"block",color:n.action.active,whiteSpace:"pre-wrap"}}}),s=function(e){var r=e.productPrice,n=e.pricingDetails,s=e.pricingDetailsAnnotation,c=a({showDesignUpliftP32039:(0,o.Z)().showDesignUpliftP32039}).classes;return(0,t.jsxs)(i.Z,{className:c.pricing,variant:"h4",align:"center",children:[(0,t.jsx)("span",{children:r}),n&&(0,t.jsx)("span",{className:c.pricingDetails,children:" ".concat(n)}),s&&(0,t.jsx)("span",{className:c.pricingDetailsAnnotation,children:" ".concat(s)})]})};s.defaultProps={pricingDetails:null,pricingDetailsAnnotation:null}},32665:function(e,r,n){n.d(r,{RR:function(){return P},sZ:function(){return g}});var t,i=n(52322),o=n(89263),a=n(64106),s=n(70865),c=n(39593),u=function(e){var r=e.initialProps;return(0,i.jsx)(c.B,(0,s.Z)({},r))},l=n(47842),d=n(88849),p=n(2784),v=n(96670),f=n(87414),y=n(22921),m=(t={},(0,l.Z)(t,d.NM,function(e){var r=e.experiment,n=e.initialProps;return(0,p.useEffect)(function(){r.recordImpression()},[]),(0,i.jsx)(u,{initialProps:n})}),(0,l.Z)(t,d.vG,function(e){var r=e.experiment,n=e.initialProps;(0,p.useEffect)(function(){r.recordImpression()},[]);var t=n.product||{},o=t.prices,a=void 0===o?{}:o,c=t.pricesPerSeat,l=t.seatCount,d=(0,f.Yy)({prices:a,localeCurrency:"INR"}),m=a[null==d?void 0:d.toLowerCase()],g=(void 0===c?{}:c)[null==d?void 0:d.toLowerCase()],C=m;g&&l&&(C=m+g*l);var P=(0,v.Z)((0,s.Z)({},n),{productPrice:(0,y.P)(C,d)});return(0,i.jsx)(u,{initialProps:P})}),t),g={flagID:a.T,id:a.s,name:"INR Currency",treatments:m},C=function(){return(0,i.jsx)(i.Fragment,{})},P=function(e){return(0,i.jsx)(o.K,{config:g,initialProps:e,Portal:u,SkeletonLoader:C})}},64106:function(e,r,n){n.d(r,{T:function(){return t},s:function(){return i}});var t="p3-1920-INR",i="P3-1920"},86799:function(e,r,n){n.d(r,{hs:function(){return P},sZ:function(){return g}});var t,i=n(52322),o=n(89263),a=n(60538),s=n(70865),c=n(39593),u=function(e){var r=e.initialProps;return(0,i.jsx)(c.B,(0,s.Z)({},r))},l=n(47842),d=n(88849),p=n(2784),v=n(96670),f=n(87414),y=n(22921),m=(t={},(0,l.Z)(t,d.NM,function(e){var r=e.experiment,n=e.initialProps;return(0,p.useEffect)(function(){r.recordImpression()},[]),(0,i.jsx)(u,{initialProps:n})}),(0,l.Z)(t,d.vG,function(e){var r=e.experiment,n=e.initialProps;(0,p.useEffect)(function(){r.recordImpression()},[]);var t=n.product||{},o=t.prices,a=void 0===o?{}:o,c=t.pricesPerSeat,l=t.seatCount,d=(0,f.Yy)({prices:a,localeCurrency:"BRL"}),m=a[null==d?void 0:d.toLowerCase()],g=(void 0===c?{}:c)[null==d?void 0:d.toLowerCase()],C=m;g&&l&&(C=m+g*l);var P=(0,v.Z)((0,s.Z)({},n),{productPrice:(0,y.P)(C,d)});return(0,i.jsx)(u,{initialProps:P})}),t),g={flagID:a.T,id:a.s,name:"P3-2160 BRL currency",treatments:m},C=function(){return(0,i.jsx)(i.Fragment,{})},P=function(e){return(0,i.jsx)(o.K,{config:g,initialProps:e,Portal:u,SkeletonLoader:C})}},16077:function(e,r,n){n.d(r,{y:function(){return t}});var t="Flat fee cancellation"},88692:function(e,r,n){n.d(r,{n:function(){return t}});var t="Flat fee cancellation v2"},35012:function(e,r,n){n.d(r,{Q:function(){return W}});var t=n(98788),i=n(47842),o=n(70865),a=n(96670),s=n(87394),c=n(45680),u=n(27739),l=n(44699),d=n(60591),p=n(43801),v=n(65532),f=n(75445),y=n(23490),m=n(88849),g=n(4122),C=n(87414),P=n(32665),I=function(e){var r=e.prices,n=void 0===r?{}:r,t=(0,g.a)(P.sZ).experiment,i=(0,y.N)().isGoodBot,o=(0,v.PE)(),a=o.region,s=o.currencyData.currency,c=void 0===s?f.a:s;return i||t.isInactiveForUser||t.isLoading?(0,C.Yy)({prices:n,localeCurrency:c}):t.variant.treatmentID===m.vG&&"IN"===a?(0,C.Yy)({prices:n,localeCurrency:"INR"}):(0,C.Yy)({prices:n,localeCurrency:c})},h=n(86799),w=function(e){var r=e.prices,n=void 0===r?{}:r,t=(0,g.a)(h.sZ).experiment,i=(0,y.N)().isGoodBot,o=(0,v.PE)(),a=o.region,s=o.currencyData.currency,c=void 0===s?f.a:s;return i||t.isInactiveForUser||t.isLoading?(0,C.Yy)({prices:n,localeCurrency:c}):t.variant.treatmentID===m.vG&&"BR"===a?(0,C.Yy)({prices:n,localeCurrency:"BRL"}):(0,C.Yy)({prices:n,localeCurrency:c})},N=n(16077),Z=n(88692),D=n(66970),x=n(12708),R=function(e){var r=e.couponCode,n=e.productName,t=null;return n===u.Pvj&&r===u.XdV?t=u.E65:n===u.fnR&&r===u.Q9B&&(t=u.Em3),t},b=n(44297),E=n(38419),S=n(18167),j=n(38367),L=n(59979),k=n(70008),F=n(40233),O=n(12649),T=n(25936),_=n(24114),B=n(38204),U=n(31683),A=n(34406).env.NODE_CONFIG_ENV,M=function(){var e=(0,U.u4)()?"production":"qa";switch(A||e){case"dev":return"65021";case"qa":return"12424";case"production":return"14156";default:return"NO_ENV_DEFINED"}},z=function(){var e=(0,U.u4)()?"production":"qa";switch(A||e){case"dev":return"65035";case"qa":return"19606";case"production":return"17383";default:return"NO_ENV_DEFINED"}},G=n(21805),Y=n(5632),q=n(2784),V=function(e){var r,n=e.couponCode,t=e.displayInlineCancellationFlow,a=(0,Y.useRouter)(),s=(0,p.v)(),c=!!(null==s?void 0:null===(r=s.current)||void 0===r?void 0:r.isPeacock);return(0,q.useCallback)(function(e){var r,s=e.orderId,u=(0,E.DW)({language:a.locale,relativePath:(0,B.U2)({queryParams:(0,o.Z)({orderId:s},(null==a?void 0:a.query)||{},c&&{isCreativeAiOrder:"true"},n?(r={},(0,i.Z)(r,d.d9,n),(0,i.Z)(r,d.Gp,n),r):{},t&&{display:"inlineCancellationFlow"})})});a.push(u)},[n,c,a,t])},W=function(e){var r=e.products,n=e.asset,i=e.assetSize,p=e.couponCode,f=e.productId,y=e.productType,m=void 0===y?d.Cs:y,g=e.productOverride,P=e.seatCount,h=e.setCreateOrderStatus,E=void 0===h?function(){}:h,B=e.setIsInvalidCoupon,U=void 0===B?function(){}:B,A=e.vatNumber,W=e.license,Q=e.isLicenseDrawer,H=void 0!==Q&&Q,K=e.preset,X=void 0===K?void 0:K,$=e.eligibilityData,J=void 0===$?{}:$,ee=e.existingUserRedirectPath,er=e.selectedShadowsOption,en=e.shouldForceAsset,et=e.subscriptionIdentifier,ei=e.cancellationReason,eo=(0,v.PE)().region,ea=(0,k.B)().isIndiaRegion,es=(0,O.jy)().data,ec=(0,T.u)().data,eu=(0,O.B)(),el=(0,s.Z)((0,q.useState)(!1),2),ed=el[0],ep=el[1],ev=(0,s.Z)((0,_.QD)(n)||[],2)[1],ef=J.eligibilityCurrency,ey=J.debitableIdentifier,em=(0,q.useMemo)(function(){return null!=g?g:(0,o.Z)({},(0,C.$A)(r,f),P?{seatCount:P}:{})},[g,f,r,P]),eg=null==em?void 0:em.id,eC=I({prices:null==em?void 0:em.prices}),eP=w({prices:null==em?void 0:em.prices}),eI=ea?eC:eP,eh=(0,j.Z)({shouldFetch:!!eu}).data,ew=p||em.couponCode,eN=R({couponCode:ew,productName:null==em?void 0:em.name}),eZ=(0,L.Sl)({queryParams:(0,o.Z)({landing_page:(0,S.t)({couponCode:ew,productId:eg,vatNumber:A,seatCount:null==em?void 0:em.seatCount,doNotRedirect:!0,asset:ea||void 0!==en&&en?n:void 0,existingUserRedirect:ee||ev,license:W})},X&&{preset:X}),signUpView:eN}),eD=(0,Y.useRouter)().asPath,ex=(0,q.useCallback)(function(){if(window){var e,r;G.Z.set("referer_page",eD),null===(e=window.NREUM)||void 0===e||null===(r=e.addPageAction)||void 0===r||r.call(e,"UP3-1623 assign loggedOutHandler authRedirectPath to href",(0,a.Z)((0,o.Z)({},window.location||{}),{asPath:eD,authRedirectPath:eZ})),window.location.href=eZ}},[eD,eZ]),eR=(0,x.F3)({paymentProfiles:eh}),eb=(0,q.useCallback)(function(e){var r,n,t={createTime:null==es?void 0:es.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:ec.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:null==es?void 0:es.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:null==es?void 0:es.id,username:null==es?void 0:es.username,isLicenseDrawer:H};null===(r=window.NREUM)||void 0===r||null===(n=r.noticeError)||void 0===n||n.call(r,e,t)},[ec,es,H]),eE=V({couponCode:ew,displayInlineCancellationFlow:[N.y,Z.n].includes(ei)}),eS=(0,F.d)(),ej=(0,s.Z)((0,q.useState)({status:"",error:void 0}),2),eL=ej[0],ek=ej[1],eF=(0,q.useCallback)((0,t.Z)(function(){var e,r,t,s,p;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,3,,4]),E({status:"",error:void 0}),ek({status:"",error:void 0}),ep(!0),ea&&u.Tj5.includes(ew))throw Error("free trial offer not available in India");if(!eh)return[3,2];return e=n?{assets:[{asset:n,selectedAssetSize:(0,D.DW)({assetType:(0,b.Tp)(n),assetSize:i})}]}:{},r=[],ei===N.y||ei===Z.n?r.push({product:{id:ei===Z.n?z():M(),type:"products"},cancellationReason:ei,subscriptionIdentifier:et}):(r.push((0,a.Z)((0,o.Z)({},e),{product:em,productType:m})),null!=ei&&null!=et&&r.push({product:{id:M(),type:"products"},cancellationReason:ei,subscriptionIdentifier:et})),[4,(0,x.LV)({country:eo,currency:ef||eI,paymentProfileId:null==eR?void 0:eR.paymentId,orderItems:r,selectedShadowsOption:er,vatNumber:A,couponCode:ew,license:W,debitableIdentifier:ey})];case 1:t=c.sent().data,E({status:l.MR,error:void 0}),ek({status:l.MR,error:void 0}),ep(!1),eE({orderId:t.id}),eS({actionName:"convert - order creation success",customAttributes:{productName:em.name,productType:m,country:eo,currency:ef||eI,assetType:(0,b.Tp)(n),assetSize:i,license:W,isLicenseDrawer:H}}),c.label=2;case 2:return[3,4];case 3:return s=c.sent(),E({status:l.cM,error:s}),ek({status:l.cM,error:s}),ep(!1),(null==s?void 0:null===(p=s.detail)||void 0===p?void 0:p.toLowerCase())===d.LQ&&U(!0),eb(s),[3,4];case 4:return[2]}})}),[E,ea,ew,eh,n,i,eo,ef,eI,null==eR?void 0:eR.paymentId,em,m,A,W,ey,eE,eS,H,eb,U,er,et,ei]);return{createOrderHandler:eu?eF:ex,isCreateOrderInProgress:ed,product:em,orderStatus:eL}}}}]);
//# sourceMappingURL=35012-b4efbe2c8aac54fe.js.map